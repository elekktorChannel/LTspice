Version 4
SHEET 1 920 680
WIRE 416 -48 416 -64
WIRE 544 16 544 -32
WIRE -64 64 -112 64
WIRE 112 64 16 64
WIRE 416 64 416 32
WIRE 416 64 304 64
WIRE 416 112 416 64
WIRE 416 112 384 112
WIRE 704 112 704 96
WIRE 544 128 544 96
WIRE -112 160 -112 64
WIRE 112 160 96 160
WIRE 320 160 304 160
WIRE 96 192 96 160
WIRE 416 208 384 208
WIRE 496 208 416 208
WIRE 704 208 704 192
WIRE 416 224 416 208
WIRE 544 240 544 224
WIRE -112 272 -112 240
WIRE 416 320 416 304
FLAG 704 208 0
FLAG 544 240 0
FLAG 704 96 VCC
IOPIN 704 96 Out
FLAG 544 -32 VCC
IOPIN 544 -32 Out
FLAG -112 272 0
FLAG 96 192 0
FLAG 416 320 0
FLAG 416 -64 VCC
IOPIN 416 -64 Out
SYMBOL voltage 704 96 R0
SYMATTR InstName V1
SYMATTR Value 12
SYMBOL res 528 0 R0
SYMATTR InstName R3
SYMATTR Value 4
SYMBOL voltage -112 144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 8 98 Left 0
SYMATTR Value PULSE(0 3.3 0 1n 1n {1/Frq/2} {1/Frq})
SYMATTR InstName V2
SYMBOL nmos 496 128 R0
SYMATTR InstName M1
SYMATTR Value IRFH5306
SYMBOL res 32 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 270
SYMBOL res 400 208 R0
SYMATTR InstName R4
SYMATTR Value 220
SYMBOL res 400 -64 R0
SYMATTR InstName R6
SYMATTR Value 22
SYMBOL Optos\\PC817A 208 112 R0
SYMATTR InstName U1
SYMBOL npn 320 112 R0
SYMATTR InstName Q1
SYMATTR Value BC547B
TEXT -152 352 Left 2 !.tran {1/Frq*4}
TEXT 600 72 Left 1 ;Carga\n12V @3A
TEXT -48 192 Left 1 ;MCU\n3,3V @10mA
TEXT -152 312 Left 2 !.param Frq=100H
RECTANGLE Normal 672 112 512 0 2
RECTANGLE Normal 64 256 -160 16 2
