Version 4
SHEET 1 2044 680
WIRE -336 144 -336 128
WIRE -32 160 -32 128
WIRE 320 160 320 128
WIRE -336 256 -336 224
WIRE -336 368 -336 336
FLAG 320 240 0
FLAG -32 240 0
FLAG -32 128 T
IOPIN -32 128 Out
FLAG 320 128 S
IOPIN 320 128 Out
FLAG 704 240 0
FLAG 704 160 S+T
IOPIN 704 160 Out
FLAG -336 128 T2
IOPIN -336 128 Out
FLAG -336 448 0
SYMBOL voltage 320 144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value SINE(0 {Ampl} {FrqS})
SYMBOL bv 704 144 R0
SYMATTR InstName B1
SYMATTR Value V=V(S)+V(T)
SYMBOL voltage -32 144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -24 139 Left 2
SYMATTR Value PULSE({-Ampl*Perc/100} {Ampl*Perc/100} 0 {1/FrqT/2} {1/FrqT/2} 0 {1/FrqT})
SYMATTR InstName V2
SYMBOL voltage -336 128 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 24 96 Left 1
SYMATTR Value SINE(0 20.26 120 0 0 -90)
SYMATTR InstName VH1
SYMBOL voltage -336 240 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 24 96 Left 1
SYMATTR Value SINE(0 2.251 360 0 0 -90)
SYMATTR InstName VH3
SYMBOL voltage -336 352 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 24 96 Left 1
SYMATTR Value SINE(0 0.8104 600 0 0 -90)
SYMATTR InstName VH5
TEXT 112 360 Left 2 !.param FrqS=60 FrqT=120 Ampl=100 Perc=25
TEXT 112 440 Left 2 !.tran {1/FrqS*5}
TEXT 112 400 Left 2 !.four 60 10 -1  V(S+T)
TEXT -72 40 Left 2 ;THD = SQRT(H2(rms)^2+H3(rms)^2+...+Hn(rms)^2)/H1(rms)
