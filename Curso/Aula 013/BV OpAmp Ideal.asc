Version 4
SHEET 1 1756 680
WIRE -928 -336 -928 -352
WIRE -784 -336 -784 -352
WIRE -400 -224 -464 -224
WIRE -272 -224 -400 -224
WIRE -160 -224 -208 -224
WIRE -64 -224 -80 -224
WIRE -784 -208 -784 -256
WIRE -672 -208 -784 -208
WIRE -608 -208 -672 -208
WIRE -608 -192 -608 -208
WIRE -64 -176 -64 -224
WIRE -464 -160 -464 -224
WIRE -928 -80 -928 -256
WIRE -672 -80 -928 -80
WIRE -608 -80 -608 -112
WIRE -608 -80 -672 -80
WIRE -64 -64 -64 -80
WIRE -928 -32 -928 -80
WIRE -784 -32 -784 -208
WIRE -464 -32 -464 -80
WIRE -64 32 -64 16
WIRE -928 64 -928 48
WIRE -784 64 -784 48
FLAG -464 -32 0
FLAG -672 -208 IN_NEG
FLAG -672 -80 IN_POS
FLAG -400 -224 Vout
FLAG -784 64 0
FLAG -784 -352 VCC
IOPIN -784 -352 Out
FLAG -64 -176 0
FLAG -928 64 0
FLAG -928 -352 VCC
IOPIN -928 -352 Out
FLAG -64 32 0
FLAG -64 -80 VCC
IOPIN -64 -80 Out
SYMBOL res -624 -208 R0
WINDOW 3 36 76 Left 1
SYMATTR Value 10Meg
SYMATTR InstName R1
SYMBOL bv -464 -176 R0
WINDOW 3 10 100 Left 1
SYMATTR Value V=IF((V(IN_POS)-V(IN_NEG))>0,12,-12)
SYMATTR InstName B1
SYMBOL res -800 -48 R0
WINDOW 3 36 76 Left 1
SYMATTR Value 20k
SYMATTR InstName R3
SYMBOL res -800 -352 R0
WINDOW 3 36 76 Left 1
SYMATTR Value 20k
SYMATTR InstName R4
SYMBOL LED -272 -208 R270
WINDOW 3 0 32 VBottom 1
WINDOW 0 72 32 VTop 2
SYMATTR Value QTLP690C
SYMATTR InstName D2
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res -176 -208 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 1
SYMATTR InstName R5
SYMATTR Value 470
SYMBOL res -944 -48 R0
WINDOW 3 36 76 Left 1
SYMATTR Value {LDR}
SYMATTR InstName R6
SYMBOL res -944 -352 R0
WINDOW 3 36 76 Left 1
SYMATTR Value 100k
SYMATTR InstName R7
SYMBOL voltage -64 -80 R0
SYMATTR InstName V1
SYMATTR Value 12
TEXT -640 40 Left 2 !.step param LDR 10k 150k 10k
TEXT -640 64 Left 2 !.op
RECTANGLE Normal -352 -48 -736 -256 2
